{
  "name": "Gameki",
  "tagline": "Etherpad plugin for collaborative editing of GameTeX LARPs in your web browser while syncing to Subversion.",
  "body": "# Gameki\r\n\r\n## About Gameki 2\r\n\r\nGameki is an online interface for collaboratively editing LARPs, allowing multiple GMs to contribute without getting in each other's way.\r\n\r\nGameki is in Alpha. It's been used for several games, but still has\r\nrough edges and is undergoing active development. All edits and\r\nhistory are stored in Subversion, so no content should get lost, but\r\nyou may still encounter bugs or missing features.\r\n\r\n### Features\r\n\r\n* Interactive, real-time collaborative editing in your web browser, powered by [Etherpad Lite](http://etherpad.org/).\r\n* Based on [GameTeX](http://web.mit.edu/kenclary/Public/Guild/GameTeX/) for powerful parameterization abilities and full GameTeX compatibility.\r\n* Automatic Subversion syncing: GMs can edit with Subversion and a text editor if they wish.\r\n* See and edit sheet metadata alongside the sheet text or in table form.\r\n* Send casting hint or packet emails, prod sheets, and do interactive casting (via [Gameki Tools](http://xavidotron.github.io/gameki-tools/)).\r\n* Runs on [XVM](http://xvm.mit.edu/) (or presumably any cloud provider).\r\n* Bi-directional Zephyr/Etherpad chat gateway.\r\n* Easily take GM notes that will be available from Subversion later.\r\n* Paste formatted rich text from another app and have it mostly DTRT.\r\n\r\n### Future Features\r\n\r\n* Syntax highlighting, with an angry red for non-macro'd pronouns.\r\n* Support for interactive runtime websites.\r\n\r\n### Non-Goals\r\n\r\n* Keeping Subversion history clean.\r\n* Having a different markup language or data/production model like Gameki 1 did.\r\n* Running on scripts.mit.edu; unfortunately, it's hard to make Etherpad Lite and Scripts play nice.\r\n\r\n### Bugs and Issues\r\n\r\nSee https://github.com/xavidotron/ep_gameki/issues.\r\n\r\n## Getting Started\r\n\r\nXavid has a dev server you're welcome to use. Talk to him to get set up. Or\r\nyou can run your own server by following the installation and setup instructions\r\nhere.\r\n\r\n## Installation\r\n\r\nThese instructions assume a Debian-y Linux server, but can probably work with\r\nother systems.\r\n\r\nNote that we here use my patched version of Etherpad Lite. Once my pull requests\r\nget merged, we can go back to the upstream version.\r\n\r\n```bash\r\n$ sudo apt-get update\r\n$ sudo apt-get install npm subversion texlive-latex-base texlive-latex-extra \\\r\n    texlive-fonts-recommended texlive-xetex latexmk texlive-luatex git curl \\\r\n    nodejs nodejs-legacy\r\n$ git clone https://github.com/xavidotron/etherpad-lite.git\r\n$ mkdir etherpad-lite/src/node_modules\r\n$ cd etherpad-lite/src/node_modules\r\n$ git clone https://github.com/xavidotron/yajsml.git etherpad-yajsml\r\n$ cd ../..\r\n$ npm install queue-async underscore.string synchronized escape-regexp js-yaml \\\r\n    findit deep-equal temp is-binary-path jsdifflib unorm body-parser \\\r\n    cookie-parser\r\n$ cd node_modules\r\n$ git clone https://github.com/xavidotron/ep_bazki.git\r\n$ git clone https://github.com/xavidotron/ep_gameki.git\r\n$ cd ..\r\n$ mkdir checkouts repos workdirs\r\n```\r\n\r\nFor Zephyr support, additionally:\r\n\r\n```bash\r\n$ sudo apt-get install zephyr-clients krb5-user tzc libzephyr4-krb5 kstart\r\n```\r\n\r\n## Running\r\n\r\n### Without Zephyr\r\n\r\nIf running without Zephyr, you can just use the normal Etherpad run script:\r\n\r\n```bash\r\n$ while true ; do bin/run.sh ; done\r\n```\r\n\r\n### With Zephyr\r\n\r\nIf you want to use the Zephyr support, you first need a keytab.  You\r\ncan get a daemon keytab for a host you own by emailing\r\naccounts@mit.edu.\r\n\r\nYou may want errors to get sent to a particular Zephyr class. To\r\nachieve this, add something like the following to the \"appenders\"\r\nblock of settings.json:\r\n\r\n```json\r\n      , { \"type\": \"logLevelFilter\"\r\n        , \"level\": \"warn\"\r\n        , \"appender\":\r\n          {  \"type\": \"ep_gameki/zwrite_appender\"\r\n             , \"suppress\": \"Authentication try failed\"\r\n             , \"zephyr_class\": \"your-spew-class\"\r\n          }\r\n        }\r\n```\r\n\r\nSubstitute the path and principle of your keytab, and optionally a\r\nzephyr class for restart notifications, in the below command:\r\n\r\n```bash\r\n$ node_modules/ep_gameki/bin/run.sh ~/Private/bazki.keytab \\\r\n    daemon/bazki.mit.edu your-spew-class\r\n```\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}